{% extends "base.html" %}

{% block title %}Admin Portal{% endblock %}

{% block content %}
<div class="form-container">
  <form method="POST" id="create-case-form">
    <h2>Create a New Case</h2>
    <input type="text" name="case_name" placeholder="Enter case name" required>
    <button class="btn-primary" type="submit">Create Case</button>
  </form>
  <div id="loading-spinner" class="spinner hidden"></div>
</div>

<h2>Existing Cases</h2>
<ul class="case-list">
  {% for case in cases %}
  <li>
    <strong>{{ case.name }}</strong> - Secret: {{ case.secret }}
    <a href="{{ url_for('view_case', case_id=case.id) }}" class="btn-secondary">View Files</a>
  </li>
  {% endfor %}
</ul>

<script>
  document.getElementById('create-case-form').addEventListener('submit', function () {
    document.getElementById('loading-spinner').classList.remove('hidden');
  });
</script>
{% endblock %}